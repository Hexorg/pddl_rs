on: [push]
name: Build and Test
jobs:
  check:
    name: Rust project
    runs-on: ubuntu-latest
    steps:
      - name: Checkout sources
        uses: actions/checkout@v4
      - name: Install Rust
        uses: actions-rs/toolchain@v1
        with:
            toolchain: stable
            components: rustfmt, clippy
      - name: Install Rust Cache
        uses: Swatinem/rust-cache@v1
      - name: Run cargo build
        uses: actions-rs/cargo@v1
        with:
          command: build --release
      - name: Run cargo test
        uses: actions-rs/cargo@v1
        with:
          command: test --release